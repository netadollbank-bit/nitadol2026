<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="google-site-verification" content="dFJ1ENXdwas5U2FE1rdwFuBEq6NvBbQ2bgaU1wxuFnQ" />
    <title>Nitadol Bank | Private Euro Excellence</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: true
            }, 'google_translate_element');
            
            setTimeout(() => {
                const userLang = navigator.language || navigator.userLanguage;
                const langCode = userLang.split('-')[0];
                const select = document.querySelector('select.goog-te-combo');
                if (select && langCode !== 'en') {
                    select.value = langCode;
                    select.dispatchEvent(new Event('change'));
                }
            }, 1000);
        }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut, signInWithEmailAndPassword, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getDatabase, ref, onValue, set, update, push } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
        import { getStorage, ref as sRef, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAHmoQxPqIKLhnvMUrcfgpRRI574GZ_NmE",
            authDomain: "nitadol-bank-cc76f.firebaseapp.com",
            databaseURL: "https://nitadol-bank-cc76f-default-rtdb.firebaseio.com",
            projectId: "nitadol-bank-cc76f",
            storageBucket: "nitadol-bank-cc76f.firebasestorage.app",
            messagingSenderId: "765485856906",
            appId: "1:765485856906:web:599e92fcc47cef35745573",
            measurementId: "G-DCBVF0BBPB"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const rtdb = getDatabase(app);
        const storage = getStorage(app);

        let currentUserData = null;

        onAuthStateChanged(auth, (user) => {
            if (user) {
                toggleViews('dashboard');
                document.getElementById('main-nav').style.display = 'none';
                onValue(ref(rtdb, 'users/' + user.uid), (snapshot) => {
                    const data = snapshot.val();
                    if (data) {
                        currentUserData = data;
                        updateDashboardUI(data);
                        updateProfileUI(data);
                    }
                });
            } else {
                toggleViews('home-page');
                document.getElementById('main-nav').style.display = 'flex';
            }
        });

        window.toggleViews = (activeId) => {
            ['home-page', 'auth-page', 'signup-page', 'dashboard'].forEach(id => {
                const el = document.getElementById(id);
                if (id === activeId) {
                    el.classList.remove('hidden');
                    if(id === 'dashboard') {
                        el.style.display = 'flex';
                    } else {
                        el.style.display = 'block';
                    }
                } else {
                    el.classList.add('hidden');
                    el.style.display = 'none';
                }
            });
            window.scrollTo(0,0);
        };

        // NEW: Visual feedback for file uploads
        document.addEventListener('change', async (e) => {
            if (e.target.type === 'file') {
                const file = e.target.files[0];
                const labelId = e.target.id + '-label';
                const labelEl = document.getElementById(labelId);
                if (file && labelEl) {
                    labelEl.innerText = "Selected: " + file.name;
                    labelEl.classList.remove('opacity-40');
                    labelEl.classList.add('text-green-500', 'font-bold');
                }
            }
        });

        function updateDashboardUI(data) {
            const balanceEl = document.getElementById('user-balance');
            const balanceText = "‚Ç¨" + (data.balance || 0).toLocaleString(undefined, {minimumFractionDigits: 2});
            balanceEl.innerText = balanceText;

            const dashPic = document.getElementById('dash-profile-pic');
            const modalPic = document.getElementById('modal-profile-pic');
            if (data.profilePic) {
                dashPic.src = data.profilePic;
                modalPic.src = data.profilePic;
            }

            if (balanceText.length > 15) { balanceEl.style.fontSize = "1.8rem"; } 
            else if (balanceText.length > 12) { balanceEl.style.fontSize = "2.2rem"; } 
            else { balanceEl.style.fontSize = "2.8rem"; }

            document.getElementById('card-holder-name').innerText = data.fullName.toUpperCase();
            document.getElementById('welcome-name').innerText = data.fullName.split(' ')[0];
            const historyCont = document.getElementById('transaction-history');
            historyCont.innerHTML = '';
            if(data.transactions) {
                Object.values(data.transactions).reverse().forEach(tx => {
                    const item = document.createElement('div');
                    item.className = "flex justify-between items-center p-4 mb-3 bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm";
                    item.innerHTML = `<div class="text-left"><p class="font-bold text-xs uppercase">${tx.type}</p><p class="text-[9px] text-slate-500">${tx.date}</p></div><div class="text-right"><p class="font-black text-sm ${tx.status === 'Failed' ? 'text-red-500' : 'text-green-500'}">‚Ç¨${tx.amount}</p><p class="text-[8px] uppercase font-bold opacity-60">${tx.status}</p></div>`;
                    historyCont.appendChild(item);
                });
            } else {
                historyCont.innerHTML = `<div class="py-10 text-center opacity-30 italic text-sm">No ledger entries found.</div>`;
            }
        }

        function updateProfileUI(data) {
            document.getElementById('p-full-name').innerText = data.fullName;
            document.getElementById('p-email').innerText = data.email;
            document.getElementById('p-phone').innerText = data.phone || 'N/A';
            document.getElementById('p-country').innerText = data.country || 'N/A';
            document.getElementById('p-address').innerText = data.address || 'N/A';
            document.getElementById('p-postal').innerText = data.postalCode || 'N/A';
        }

        window.handleLogin = async () => {
            const email = document.getElementById('l-email').value;
            const pass = document.getElementById('l-pass').value;
            try { await signInWithEmailAndPassword(auth, email, pass); }
            catch (e) { alert(e.message); }
        };

        window.handleSignup = async () => {
            const btn = document.getElementById('signup-btn');
            const originalText = btn.innerText;
            btn.innerText = "Securing Assets...";
            btn.disabled = true;
            
            const email = document.getElementById('s-email').value;
            const pass = document.getElementById('s-pass').value;
            const name = document.getElementById('s-name').value;
            const pin = document.getElementById('s-pin').value;
            const phone = document.getElementById('s-phone').value;
            const country = document.getElementById('s-country').value;
            const address = document.getElementById('s-address').value;
            const postal = document.getElementById('s-postal').value;
            const profileFile = document.getElementById('s-profile-pic').files[0];

            try {
                const res = await createUserWithEmailAndPassword(auth, email, pass);
                const uid = res.user.uid;
                let profileUrl = "https://ui-avatars.com/api/?name=" + name + "&background=2563eb&color=fff";

                if (profileFile) {
                    const pRef = sRef(storage, `users/${uid}/profile.jpg`);
                    await uploadBytes(pRef, profileFile);
                    profileUrl = await getDownloadURL(pRef);
                }

                await set(ref(rtdb, 'users/' + uid), {
                    fullName: name, email, pin, phone, country, address, postalCode: postal, 
                    balance: 0, currency: "EUR", profilePic: profileUrl, joinDate: new Date().toLocaleDateString()
                });
                
                // INSTANT REDIRECT
                toggleViews('dashboard');
            } catch (e) { 
                alert(e.message); 
                btn.innerText = originalText; 
                btn.disabled = false;
            }
        };

        window.processTransaction = async () => {
            const amount = document.getElementById('tx-amount').value;
            const pin = document.getElementById('tx-pin-input').value;
            if (pin !== currentUserData.pin) { 
                document.getElementById('pin-error').classList.remove('hidden');
                return; 
            }
            await push(ref(rtdb, 'users/' + auth.currentUser.uid + '/transactions'), {
                amount: parseFloat(amount).toFixed(2),
                type: document.getElementById('modal-title').innerText,
                date: new Date().toLocaleString(),
                status: "Failed"
            });
            document.getElementById('trans-pin').classList.add('hidden');
            document.getElementById('error-screen').classList.remove('hidden');
        };

        window.logout = () => signOut(auth);
        window.openModal = (t) => {
            document.getElementById('modal-title').innerText = t.toUpperCase();
            document.getElementById('trans-modal').classList.remove('hidden');
            document.getElementById('trans-modal').classList.add('flex');
        };
        window.closeModal = () => {
            document.querySelectorAll('.modal-overlay').forEach(m => m.classList.add('hidden'));
            document.getElementById('error-screen').classList.add('hidden');
            document.getElementById('trans-input').classList.remove('hidden');
            document.getElementById('trans-pin').classList.add('hidden');
            document.getElementById('pin-error').classList.add('hidden');
        };
        window.triggerPin = () => {
            document.getElementById('trans-input').classList.add('hidden');
            document.getElementById('trans-pin').classList.remove('hidden');
        };
        window.showView = (v) => v === 'login' ? toggleViews('auth-page') : (v === 'signup' ? toggleViews('signup-page') : toggleViews('home-page'));
        window.openProfile = () => document.getElementById('profile-modal').classList.remove('hidden');
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;900&display=swap');
        * { font-family: 'Outfit', sans-serif; scroll-behavior: smooth; -webkit-tap-highlight-color: transparent; }
        .hidden { display: none !important; }
        #google_translate_element { display: none; }
        .partner-scroll { display: flex; width: 200%; animation: scroll 20s linear infinite; }
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
        .atm-card { background: linear-gradient(145deg, #0f172a 0%, #334155 100%); border: 1px solid rgba(255,255,255,0.1); }
        .custom-scroll::-webkit-scrollbar { width: 0px; }
        #user-balance { transition: all 0.3s ease; }
        input::placeholder { opacity: 0.5; }
        
        /* Mobile Specific tweaks */
        @media (max-width: 768px) {
            #dashboard { flex-direction: column; }
            aside { 
                width: 100%; height: auto; position: fixed; bottom: 0; left: 0; 
                flex-direction: row; padding: 15px; border-r: 0; border-top: 1px solid rgba(255,255,255,0.1);
                z-index: 100; justify-content: space-around;
            }
            aside .mb-12, aside button { display: none; }
            aside nav { flex-direction: row; width: 100%; justify-content: space-around; space-y: 0; }
            aside nav div { flex-direction: column; font-size: 10px; gap: 4px; opacity: 0.6; }
            main { margin-left: 0; padding-bottom: 100px; padding-top: 40px; }
            .mobile-logout { display: block !important; }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-white">

    <div id="google_translate_element"></div>

    <nav id="main-nav" class="fixed w-full z-[100] bg-white/80 dark:bg-slate-950/80 backdrop-blur-lg border-b dark:border-slate-800 px-4 py-4 flex justify-between items-center">
        <div class="flex items-center gap-2" onclick="showView('home')">
            <div class="w-7 h-7 bg-blue-600 rounded flex items-center justify-center text-white font-black text-sm">N</div>
            <span class="text-md font-black tracking-tighter uppercase">Nitadol</span>
        </div>
        <div class="flex items-center gap-4">
            <button onclick="showView('login')" class="text-[10px] font-bold opacity-60">LOGIN</button>
            <button onclick="showView('signup')" class="bg-blue-600 text-white px-4 py-2 rounded-full font-bold text-[10px] shadow-lg">OPEN ACCOUNT</button>
        </div>
    </nav>

    <div id="home-page">
        <section class="relative min-h-screen flex items-center justify-center pt-20 overflow-hidden bg-slate-950">
            <img src="https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070" class="absolute inset-0 w-full h-full object-cover opacity-30">
            <div class="relative z-10 text-center px-6">
                <h1 class="text-5xl md:text-8xl font-black text-white leading-tight mb-6">Redefining <br><span class="text-blue-500">Wealth.</span></h1>
                <p class="text-slate-400 text-md md:text-2xl mb-10 max-w-md mx-auto">Private offshore banking for the modern digital entrepreneur.</p>
                <div class="flex flex-col gap-4">
                    <button onclick="showView('signup')" class="bg-blue-600 text-white px-8 py-4 rounded-2xl font-black text-lg">Get Started</button>
                    <button onclick="showView('login')" class="bg-white/10 text-white px-8 py-4 rounded-2xl font-black text-lg border border-white/20">Access Vault</button>
                </div>
            </div>
        </section>
    </div>

    <div id="signup-page" class="hidden min-h-screen bg-slate-50 dark:bg-slate-950 p-4 pt-24">
        <div class="max-w-md mx-auto bg-white dark:bg-slate-900 rounded-[2.5rem] p-8 shadow-2xl">
            <h2 class="text-2xl font-black mb-1">Create Account</h2>
            <p class="text-[10px] font-bold uppercase text-slate-400 mb-8 tracking-widest">Global Private Banking</p>
            
            <div class="space-y-4 mb-8">
                <div>
                    <label id="s-profile-pic-label" class="block text-[9px] font-black uppercase opacity-40 mb-2">Profile Photo</label>
                    <input id="s-profile-pic" type="file" class="w-full text-xs p-3 bg-slate-50 dark:bg-slate-800 rounded-xl border dark:border-slate-700">
                </div>
                <input id="s-name" type="text" placeholder="Full Legal Name" class="w-full p-4 bg-slate-50 dark:bg-slate-800 rounded-xl outline-none text-sm border dark:border-slate-700">
                <input id="s-email" type="email" placeholder="Email Address" class="w-full p-4 bg-slate-50 dark:bg-slate-800 rounded-xl outline-none text-sm border dark:border-slate-700">
                <input id="s-phone" type="tel" placeholder="Phone Number" class="w-full p-4 bg-slate-50 dark:bg-slate-800 rounded-xl outline-none text-sm border dark:border-slate-700">
                <input id="s-country" type="text" placeholder="Country" class="w-full p-4 bg-slate-50 dark:bg-slate-800 rounded-xl outline-none text-sm border dark:border-slate-700">
                <input id="s-address" type="text" placeholder="Residential Address" class="w-full p-4 bg-slate-50 dark:bg-slate-800 rounded-xl outline-none text-sm border dark:border-slate-700">
                <div class="grid grid-cols-2 gap-4">
                    <input id="s-postal" type="text" placeholder="Postal Code" class="p-4 bg-slate-50 dark:bg-slate-800 rounded-xl outline-none text-sm border dark:border-slate-700">
                    <input id="s-pin" type="password" maxlength="4" placeholder="4-Digit PIN" class="p-4 bg-slate-50 dark:bg-slate-800 rounded-xl outline-none text-sm border dark:border-slate-700">
                </div>
                <input id="s-pass" type="password" placeholder="Create Password" class="w-full p-4 bg-slate-50 dark:bg-slate-800 rounded-xl outline-none text-sm border dark:border-slate-700">
                
                <div class="p-4 border-2 border-dashed dark:border-slate-700 rounded-xl text-center">
                    <label id="s-doc-label" class="text-[9px] font-black uppercase opacity-40 block mb-1">Identity Verification (ID/Passport)</label>
                    <input type="file" id="s-doc" class="hidden">
                    <label for="s-doc" class="text-blue-500 font-bold text-xs cursor-pointer">Tap to Upload Document</label>
                </div>
            </div>

            <button id="signup-btn" onclick="handleSignup()" class="w-full bg-blue-600 text-white py-5 rounded-2xl font-black shadow-xl mb-4">Open My Account</button>
            <button onclick="showView('home')" class="w-full text-slate-400 font-bold text-[10px] uppercase">Back to Home</button>
        </div>
    </div>

    <div id="auth-page" class="hidden min-h-screen flex items-center justify-center p-6 bg-slate-100 dark:bg-slate-950">
        <div class="bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] w-full max-w-sm shadow-2xl text-center">
            <h2 class="text-2xl font-black mb-8">Welcome Back</h2>
            <input id="l-email" type="email" placeholder="Email Address" class="w-full p-4 mb-4 bg-slate-50 dark:bg-slate-800 rounded-xl outline-none text-sm border dark:border-slate-700">
            <input id="l-pass" type="password" placeholder="Password" class="w-full p-4 mb-8 bg-slate-50 dark:bg-slate-800 rounded-xl outline-none text-sm border dark:border-slate-700">
            <button onclick="handleLogin()" class="w-full bg-blue-600 text-white py-5 rounded-2xl font-black shadow-xl">Secure Login</button>
            <p onclick="showView('signup')" class="mt-6 text-[10px] font-bold text-blue-600 uppercase">Need an account? Join Now</p>
        </div>
    </div>

    <div id="dashboard" class="hidden min-h-screen bg-slate-50 dark:bg-slate-950">
        <aside class="w-80 bg-slate-900 dark:bg-slate-900 text-white p-10 flex flex-col fixed h-full border-r border-white/5">
            <div class="mb-12"><h2 class="text-2xl font-black italic">NITADOL</h2><p class="text-[9px] text-blue-500 font-black tracking-widest uppercase">Private Wealth</p></div>
            <nav class="flex-1 space-y-8">
                <div class="flex items-center gap-4 text-blue-500 font-black cursor-pointer" onclick="toggleViews('dashboard')"><span>üìä</span> Dashboard</div>
                <div class="flex items-center gap-4 opacity-40 cursor-pointer" onclick="openProfile()"><span>üë§</span> Profile</div>
                <div class="flex items-center gap-4 opacity-40"><span>üåç</span> SEPA</div>
            </nav>
            <button onclick="logout()" class="text-red-500 font-black text-xs pt-10 border-t border-white/5 uppercase">Logout ‚èª</button>
        </aside>

        <main class="flex-1 p-4 md:p-16">
            <div class="max-w-md mx-auto md:max-w-5xl">
                <div class="flex justify-between items-center mb-10">
                    <div>
                        <h2 class="text-2xl font-black">Hi, <span id="welcome-name" class="text-blue-600">...</span></h2>
                        <p class="text-[9px] font-black uppercase text-green-500 mt-1">‚óè Account Active</p>
                    </div>
                    <div class="flex items-center gap-3">
                        <button onclick="logout()" class="md:hidden text-slate-400 text-xl">‚èª</button>
                        <img id="dash-profile-pic" src="https://ui-avatars.com/api/?name=U" class="w-12 h-12 rounded-full border-2 border-white shadow-md object-cover" onclick="openProfile()">
                    </div>
                </div>

                <div class="atm-card w-full h-52 p-6 rounded-[2rem] text-white flex flex-col justify-between shadow-2xl mb-8">
                    <div class="flex justify-between items-start">
                        <div class="w-10 h-7 bg-gradient-to-br from-yellow-300 to-yellow-600 rounded"></div>
                        <span class="font-black italic text-sm">ELITE VISA</span>
                    </div>
                    <p class="text-xl tracking-widest font-light">4492 ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 9912</p>
                    <div class="flex justify-between items-end">
                        <div><p class="text-[7px] uppercase opacity-50">Holder</p><p id="card-holder-name" class="font-bold text-[10px] tracking-widest">...</p></div>
                        <p class="font-bold text-[10px]">12/28</p>
                    </div>
                </div>

                <div class="bg-white dark:bg-slate-900 p-8 rounded-[2rem] shadow-lg border dark:border-slate-800 mb-8">
                    <p class="text-[9px] font-black text-slate-400 uppercase tracking-widest mb-2">Available Balance (EUR)</p>
                    <h1 id="user-balance" class="font-black tracking-tighter mb-8">‚Ç¨0.00</h1>
                    <div class="grid grid-cols-3 gap-2">
                        <button onclick="openModal('transfer')" class="bg-blue-600 text-white py-3 rounded-xl font-black text-[9px]">SEND</button>
                        <button onclick="openModal('withdraw')" class="bg-slate-100 dark:bg-slate-800 py-3 rounded-xl font-black text-[9px]">CASH OUT</button>
                        <button onclick="openModal('deposit')" class="bg-slate-100 dark:bg-slate-800 py-3 rounded-xl font-black text-[9px]">DEPOSIT</button>
                    </div>
                </div>

                <div class="bg-white dark:bg-slate-900 rounded-[2rem] p-6 shadow-lg border dark:border-slate-800">
                    <h3 class="text-sm font-black mb-6 flex items-center gap-2"><span class="w-1 h-4 bg-blue-600 rounded-full"></span> Ledger History</h3>
                    <div id="transaction-history" class="space-y-3"></div>
                </div>
            </div>
        </main>
    </div>

    <div id="mobile-nav" class="md:hidden fixed bottom-0 w-full bg-white dark:bg-slate-900 border-t dark:border-slate-800 p-4 flex justify-around items-center z-[200] hidden">
        <button onclick="toggleViews('dashboard')" class="text-blue-600 flex flex-col items-center gap-1 font-black text-[10px]"><span>üìä</span> HOME</button>
        <button onclick="openProfile()" class="text-slate-400 flex flex-col items-center gap-1 font-black text-[10px]"><span>üë§</span> PROFILE</button>
        <button onclick="openModal('transfer')" class="text-slate-400 flex flex-col items-center gap-1 font-black text-[10px]"><span>üí∏</span> SEND</button>
    </div>

    <div id="profile-modal" class="hidden modal-overlay fixed inset-0 bg-slate-950/95 backdrop-blur-md z-[300] flex items-center justify-center p-4">
        <div class="bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2.5rem] p-8 shadow-2xl relative">
            <button onclick="closeModal()" class="absolute top-6 right-6 text-2xl opacity-30">&times;</button>
            <div class="flex flex-col items-center mb-8">
                <img id="modal-profile-pic" src="https://ui-avatars.com/api/?name=U" class="w-20 h-20 rounded-full border-4 border-blue-600 shadow-xl mb-4 object-cover">
                <h2 class="text-xl font-black uppercase italic">Client Dossier</h2>
            </div>
            <div class="space-y-4 text-xs">
                <div class="flex justify-between border-b dark:border-slate-800 pb-2"><span class="opacity-40 font-bold uppercase">Name</span> <span id="p-full-name" class="font-black text-right">...</span></div>
                <div class="flex justify-between border-b dark:border-slate-800 pb-2"><span class="opacity-40 font-bold uppercase">Email</span> <span id="p-email" class="font-black text-right">...</span></div>
                <div class="flex justify-between border-b dark:border-slate-800 pb-2"><span class="opacity-40 font-bold uppercase">Country</span> <span id="p-country" class="font-black text-right">...</span></div>
                <div class="p-3 bg-green-500/10 text-green-500 rounded-xl text-center font-black uppercase text-[8px]">Status: Platinum Verified</div>
            </div>
        </div>
    </div>

    <div id="trans-modal" class="hidden modal-overlay fixed inset-0 bg-slate-950/95 backdrop-blur-md z-[250] items-center justify-center p-4">
        <div class="bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2.5rem] p-8 shadow-2xl relative border border-slate-800/50 max-h-[85vh] overflow-y-auto custom-scroll">
            <button onclick="closeModal()" class="absolute top-6 right-6 text-2xl opacity-30">&times;</button>
            
            <div id="trans-input" class="space-y-6">
                <h2 id="modal-title" class="text-xl font-black uppercase">Transfer</h2>
                <div class="space-y-3">
                    <label class="text-[9px] font-black opacity-40 uppercase ml-2">Amount (‚Ç¨)</label>
                    <input id="tx-amount" type="number" placeholder="0.00" class="w-full p-4 bg-slate-50 dark:bg-slate-950 border dark:border-slate-800 rounded-2xl outline-none text-3xl font-black">
                    <input type="text" placeholder="Beneficiary Name" class="w-full p-4 bg-slate-50 dark:bg-slate-950 border dark:border-slate-800 rounded-xl outline-none text-sm">
                    <input type="text" placeholder="IBAN / Account Number" class="w-full p-4 bg-slate-50 dark:bg-slate-950 border dark:border-slate-800 rounded-xl outline-none text-sm">
                    <input type="text" placeholder="Bank Name / Swift" class="w-full p-4 bg-slate-50 dark:bg-slate-950 border dark:border-slate-800 rounded-xl outline-none text-sm">
                </div>
                <button onclick="triggerPin()" class="w-full bg-blue-600 text-white py-5 rounded-2xl font-black shadow-xl">Initiate SEPA Transfer</button>
            </div>

            <div id="trans-pin" class="hidden text-center space-y-6 py-4">
                <p class="font-black text-md">Enter Security PIN</p>
                <input id="tx-pin-input" type="password" maxlength="4" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" class="text-center text-5xl tracking-widest w-full bg-transparent border-b-2 border-slate-200 dark:border-slate-800 outline-none font-black py-4">
                <div id="pin-error" class="hidden p-3 bg-red-100 text-red-600 rounded-xl text-[10px] font-bold">WRONG PIN. ACCESS DENIED.</div>
                <button onclick="processTransaction()" class="w-full bg-slate-900 dark:bg-white dark:text-black py-5 rounded-2xl font-black">Verify & Release Funds</button>
            </div>

            <div id="error-screen" class="hidden text-center py-4">
                <div class="w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center text-3xl mx-auto mb-6">!</div>
                <h2 class="text-xl font-black text-red-600 mb-4 uppercase">Verification Required</h2>
                <div class="p-4 bg-red-50 dark:bg-red-950/20 rounded-xl border border-red-100 dark:border-red-900/50 text-[10px] text-red-700 dark:text-red-400 font-bold mb-6">
                    MANDATORY: Manual clearance for international transfers from new accounts. Contact: nitadolbank@gmail.com
                </div>
                <button onclick="closeModal()" class="w-full py-4 bg-slate-900 text-white rounded-xl font-black">Back to Dashboard</button>
            </div>
        </div>
    </div>

    <script>
        // Adjust UI if dashboard is shown on mobile
        const checkMobile = () => {
            const isDash = !document.getElementById('dashboard').classList.contains('hidden');
            const mNav = document.getElementById('mobile-nav');
            if (window.innerWidth < 768 && isDash) {
                mNav.classList.remove('hidden');
            } else {
                mNav.classList.add('hidden');
            }
        };
        window.addEventListener('resize', checkMobile);
        setInterval(checkMobile, 500);
    </script>
</body>
</html>
